name: E2E Tests

on: [push]:
    branches: test_Cypress
    paths: 
      - 'packages/frontend/**'

jobs:
  cypress-run:
    runs-on: ubuntu-latest  # 使用 Ubuntu 環境

    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Install dependencies
        run: npm install  # 安裝相依套件
        working-directory: packages/frontend/

      - name: Cypress Run  
        run: | 
          npm run dev &
          sleep 5  # 等待開發服務器啟動
          npm run cypress:run  # 執行 Cypress test
        working-directory: packages/frontend/
